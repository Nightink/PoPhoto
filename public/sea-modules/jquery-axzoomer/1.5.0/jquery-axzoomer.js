define("#jquery-axzoomer/1.5.0/jquery-axzoomer",["#/jquery/1.7.2/jquery","#/jquery-mousewheel/3.0.6/jquery-mousewheel"],function(require,exports,module){var $,jQuery;module.exports=function(externalJQuery){return externalJQuery&&externalJQuery.fn&&externalJQuery.fn.jquery?$=jQuery=externalJQuery:$||($=jQuery=require("#/jquery/1.7.2/jquery").sub()),require("#/jquery-mousewheel/3.0.6/jquery-mousewheel")(jQuery),function($){var methods={init:function(options){return this.each(function(){function medium_coors(a,b){var c=1,d=0,e=0;if(d=$(b).offset().top,e=$(b).offset().left,touchy){a=a.originalEvent,c=a.touches.length;for(var f=0,g=0,h=0;c>h;h++)f+=a.touches[h].pageX-e,g+=a.touches[h].pageY-d;return[f/c,g/c,c]}return[a.pageX-e,a.pageY-d,c]}var settings={maxZoom:4,zoomIn:"zoom-in.png",zoomOut:"zoom-out.png",reset:!1,showControls:!0,controlsPos:["right","bottom"],opacity:.5,sensivity:10,overrideMousewheel:!0,mousewheel:!0,resetImage:!1};if("IMG"!=this.tagName)return $.error("Zoomer plugin applies only to img tag."),!1;var $this=$(this),_this=this,OLD_SRC=_this.src;if(!$this.hasClass("ax-zoom")){try{eval("var inlineOpts = {"+$(this).attr("title")+"}")}catch(err){}options&&$.extend(settings,options),"undefined"!=typeof inlineOpts&&$.extend(settings,inlineOpts),$this.data("init-status",{parent:$this.parent(),src:$this.attr("src")}).addClass("ax-zoom").css({position:"absolute",top:0,left:0}).data("settings",settings);var MAIN_WIDTH=0,MAIN_HEIGHT=0,touchy="ontouchstart"in document.documentElement?!0:!1,move="touchmove.axzoomer mousemove.axzoomer",end="touchend.axzoomer mouseup.axzoomer",down="touchstart.axzoomer mousedown.axzoomer",container=$('<div class="ax-container" style="position:relative;overflow:hidden;left:0;top:0;" />').appendTo($this.parent()).hover(function(){settings.showControls&&controlsDiv.show("fade")},function(){settings.showControls&&controlsDiv.hide("fade")});$this.data("container",container);var controlsDiv=$('<div class="ax-controls"/>').appendTo(container).hide().css({"z-index":1e3,position:"absolute",opacity:settings.opacity}),zoomtimer;if($this.controlZoom=function(a){$this.zoomInOut(a),zoomtimer=setTimeout(function(){$this.controlZoom(a)},30)},settings.zoomIn){var zoomIn=!1;"string"==typeof settings.zoomIn?zoomIn=$('<img src="'+settings.zoomIn+'" alt="+" />').appendTo(controlsDiv).css("cursor","pointer"):"object"==typeof settings.zoomIn&&(zoomIn=settings.zoomIn),zoomIn&&zoomIn.bind(down,function(a){a.stopPropagation(),MOUSEX=MAIN_WIDTH/2,MOUSEY=MAIN_HEIGHT/2,$this.controlZoom(.05)}).bind("dblclick",function(a){a.stopPropagation()}).bind(end+" mouseout",function(){clearTimeout(zoomtimer)})}if(settings.zoomOut){var zoomOut=!1;"string"==typeof settings.zoomOut?zoomOut=$('<img src="'+settings.zoomOut+'" alt="+" />').appendTo(controlsDiv).css("cursor","pointer"):"object"==typeof settings.zoomOut&&(zoomOut=settings.zoomOut),zoomOut&&zoomOut.bind(down,function(a){a.stopPropagation(),MOUSEX=MAIN_WIDTH/2,MOUSEY=MAIN_HEIGHT/2,$this.controlZoom(-.05)}).bind("dblclick",function(a){a.stopPropagation()}).bind(end+" mouseout",function(){clearTimeout(zoomtimer)})}if(settings.reset){var reset=!1;"string"==typeof settings.reset?reset=$('<img src="'+settings.reset+'" alt="+" />').appendTo(controlsDiv).css("cursor","pointer"):"object"==typeof settings.reset&&(reset=settings.reset),reset&&reset.bind(down,function(a){a.stopPropagation(),MOUSEX=MAIN_WIDTH/2,MOUSEY=MAIN_HEIGHT/2,$this.zoomInOut(-$this.zoomLevel)}).bind("dblclick",function(a){a.stopPropagation()})}var MAIN_SRC=$this.attr("src"),ZOOM_SRC=$this.attr("src-big");settings.srcBig&&(ZOOM_SRC=settings.srcBig);var imgLoad=new Image;imgLoad.onload=function(){MAIN_WIDTH=_this.width,MAIN_HEIGHT=_this.height,$this.data("dims",{width:MAIN_WIDTH,height:MAIN_HEIGHT}),container.css({width:MAIN_WIDTH,height:MAIN_HEIGHT}).append($this);var a=settings.controlsPos[0],b=settings.controlsPos[1];"string"==typeof a&&(a="right"==a?MAIN_WIDTH-controlsDiv.width():0),"string"==typeof b&&(b="bottom"==b?MAIN_HEIGHT-controlsDiv.height():0),controlsDiv.css({left:a,top:b})},imgLoad.src=_this.src;var TOUCHNUM=0,START_X=0,START_Y=0,MOUSEX=0,MOUSEY=0,LIMIT_X=0,LIMIT_Y=0;$this.ENABLE_DRAG=!1,container.bind(down,function(a){a.preventDefault();var b=medium_coors(a,this);MOUSEX=b[0],MOUSEY=b[1],START_X=_this.offsetLeft-MOUSEX,START_Y=_this.offsetTop-MOUSEY,TOUCHNUM=b[2],a.shiftKey?$this.controlZoom(.05):a.altKey?$this.controlZoom(-.05):$this.ENABLE_DRAG=!0}).bind(move,function(a){a.preventDefault();var b=medium_coors(a,this);MOUSEX=b[0],MOUSEY=b[1],TOUCHNUM=b[2],1>=TOUCHNUM&&$this.ENABLE_DRAG&&$this.drag()}).bind(end,function(){$this.ENABLE_DRAG=!1,clearTimeout(zoomtimer)}).bind("dblclick",function(a){if(!a.altKey&&!a.shiftKey){var b=medium_coors(a,this);MOUSEX=b[0],MOUSEY=b[1],$this.zoomInOut(1)}}).bind("mousewheel",function(a,b){settings.mousewheel&&(a.preventDefault(),settings.overrideMousewheel&&a.stopPropagation(),$this.zoomInOut(b/settings.sensivity))}),_this.ongesturechange=function(a){if(a.preventDefault(),TOUCHNUM>=2){var b=1>a.scale?-1:1;$this.zoomInOut(b/settings.sensivity)}},$(document).bind(end,function(){$this.ENABLE_DRAG=!1,clearTimeout(zoomtimer)}),$this.data("ENABLE-AXZ",!0),$this.drag=function(){if(1==$this.data("ENABLE-AXZ")){var a=MOUSEX+START_X,b=MOUSEY+START_Y;0>=a&&a>=LIMIT_X&&$this.css({left:a}),0>=b&&b>=LIMIT_Y&&$this.css({top:b})}},$this.zoomLevel=1;var timeoutloader;$this.zoomInOut=function(a){if(1==$this.data("ENABLE-AXZ")){var b=$this.width()*(1+a),c=$this.height()*(1+a);MAIN_WIDTH>=b&&(b=MAIN_WIDTH),MAIN_HEIGHT>=c&&(c=MAIN_HEIGHT);var d=b/MAIN_WIDTH;if(settings.maxZoom>=d>>0){$this.zoomLevel=d,LIMIT_X=-MAIN_WIDTH*($this.zoomLevel-1),LIMIT_Y=-MAIN_HEIGHT*($this.zoomLevel-1);var e=a*(_this.offsetLeft-MOUSEX)+_this.offsetLeft,f=a*(_this.offsetTop-MOUSEY)+_this.offsetTop;LIMIT_X>e&&(e=LIMIT_X),e>=0&&(e=0),LIMIT_Y>=f&&(f=LIMIT_Y),f>=0&&(f=0),$this.css({width:b,height:c,top:f,left:e})}if($this.zoomLevel>1.2&&""!=ZOOM_SRC&&null!=ZOOM_SRC&&ZOOM_SRC!=$this.attr("src")){var g=new Image;g.onload=function(){_this.src=ZOOM_SRC},g.src=ZOOM_SRC}else 1.2>=$this.zoomLevel&&settings.resetImage&&OLD_SRC!=$this.attr("src")&&(_this.src=OLD_SRC)}}}})},enable:function(){return this.each(function(){var a=$(this);a.data("ENABLE-AXZ",!0)})},disable:function(){return this.each(function(){var a=$(this);a.data("ENABLE-AXZ",!1)})},destroy:function(){return this.each(function(){var a=$(this);a.removeData("settings").removeClass("ax-zoom");var b=a.data("init-status"),c=a.data("dims");a.css({width:c.width,height:c.height}).appendTo(b.parent).attr("src",b.src).data("container").remove(),$(document).unbind(".axzoomer")})},option:function(a,b){return this.each(function(){var c=$(this),d=c.data("settings");return null==b||void 0==b?d[a]:(d[a]=b,c.data("settings",d),void 0)})}};$.fn.axzoomer=function(a){return methods[a]?methods[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?($.error("Method "+a+" does not exist on jQuery.zoomer3d"),void 0):methods.init.apply(this,arguments)}}(jQuery),jQuery}});